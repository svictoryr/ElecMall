{{>layouts/header}}
{{#errorMessage}}
    <div class="alert alert-danger" role="alert">
        {{errorMessage}}
    </div>
{{/errorMessage}}
<input type="hidden" name="_csrf" value="{{_csrf.token}}">

<div class="container mt-5">
    <div class="post-detail bg-white border rounded p-4 shadow-sm">
        <!-- 게시글 제목 -->
        <h2 class="post-title mb-4"><b>{{boardItem.boardTitle}}</b></h2>
        <div class="post-meta mb-4 d-flex justify-content-between align-items-center border rounded p-3 bg-light">
            <!-- 작성자 정보 -->
            <div class="meta-item text-center" style="flex-basis: 30%;">
        <span class="nickname" title="{{boardItem.boardAuthor}}">
            <b>작성자</b> {{boardItem.boardAuthor}}
        </span>
            </div>
            <!-- 작성일자 정보 -->
            <div class="meta-item text-center" style="flex-basis: 30%;">
        <span class="gall_date" title="{{boardItem.writeDate}}">
            <b>작성일자</b> {{boardItem.writeDate}}
        </span>
            </div>
            <!-- 조회수 정보 -->
            <div class="meta-item text-center" style="flex-basis: 30%;">
                <span class="gall_count"><b>조회수</b> {{boardItem.count}}</span>
            </div>
        </div>
        <!-- 게시글 내용 (고정 크기 및 스크롤) -->
        <div class="post-content mb-4">
            <div class="p-3 bg-light border rounded" style="height: 300px; overflow-y: auto;">
                <p class="mb-0">{{boardItem.boardContent}}</p>
            </div>
        </div>

        <!-- 수정 및 삭제 버튼 -->
        <div class="post-actions mb-4">
            {{#canEditOrDeleteB}}
                <a href="/elecmall/board/{{boardItem.boardId}}/edit" class="btn btn-warning me-2">수정</a>
                <a href="/elecmall/board/{{boardItem.boardId}}/delete" class="btn btn-danger">삭제</a>
            {{/canEditOrDeleteB}}
        </div>

        <!-- 댓글 섹션 -->
        <div class="post-comments mb-4">
            <h5>댓글</h5>
            <div class="comments">
                {{#comments}}
                    <!-- 댓글 아이템 -->
                    <div class="comment-item border rounded p-3 mb-3">
                        <div class="d-flex justify-content-between align-items-center">
                            <p><strong>{{commentAuthor}}</strong> - {{commentWriteDate}}</p>
                            {{#canEditOrDeleteC}}
                                <a href="/elecmall/board/{{boardItem.boardId}}/comment/delete/{{this.commentId}}" class="btn btn-danger btn-sm">삭제</a>
                            {{/canEditOrDeleteC}}
                        </div>
                        <p>{{commentComment}}</p>
                    </div>
                {{/comments}}
                {{^comments}}
                    <p>댓글이 없습니다.</p>
                {{/comments}}
            </div>
        </div>

        <form action="/elecmall/board/{{boardItem.boardId}}/comment" method="post">
            <input type="hidden" name="_csrf" value="{{_csrf.token}}">
            <div class="form-group mb-3">
                <label for="commentComment">댓글 작성</label>
                <textarea id="commentComment" name="commentComment" class="form-control" rows="3" placeholder="댓글을 입력하세요"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">댓글 달기</button>
            <a href="/elecmall/board/list" class="btn btn-secondary">목록으로</a>
        </form>
    </div>
</div>

{{>layouts/footer}}
